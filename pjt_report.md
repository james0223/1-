#### 6/11

전체적인 큰 틀을 짜고 어떠한 기능들을 추가할지 등에 대해 의견을 나누었다.

기존에 만들었던 간단한 유저 인터페이스에서 좀 더 발전된, 유저들의 사이트 기여도에 따라 등급을 부여하는 시스템을 고안하였고, 기여도는 유저의 사이트 방문 횟수, 댓글수, 좋아요 받은 수 등에 따라 증가하도록 할 예정이다.

현재는 이것이 우리 능력 내에서 구현 가능한지 알 수 없으므로, 일단은 모델에만 추가해 두고 기여도를 활용하는 코드는 작성하지 않았다.

전체 프로젝트 기간 중 금일은 기본적인 계정 생성과 계정의 모델을 구현하기로 하였다.

프로필 사진을 유저가 직접 올릴 수 있도록 설정했는데, static의 디폴트 이미지는 잘 출력되나 유저가 업로드한 media파일은 항상 엑박이 뜨며 출력되질 않는다.

결국 오늘 이 문제에 대한 해결책은 찾지 못하였다. 내일 다시 해봐야 할 것 같다.



#### 6/12
유저들이 모여 리뷰를 작성하고 댓글을 쓰는 등 의견을 나눌 공간인 community를 구현할 계획이다

영화 정보를 데이터베이스에 보관해둘지, 유저들이 영화를 검색하면 우리가 지정해둔 API를 통해 해당 웹사이트의 영화정보를 실시간으로 전달해줄지 고민을 해보았다.

하지만 영화 검색 결과의 정보 형식이 제각각이고 검색 키워드와 관계없는 정보가 출력되는 경우가 존재하는 등, 일관성과 통일성이 매우 떨어지는 관계로 관리자가 데이터베이스를 관리하고

유저는 관리자가 생성한 데이터베이스 내부에서만 검색활동을 할 수 있도록 하기로 하였다.

json에서 db로 데이터 넘겨받기는 원하는앱/fixtures/원하는앱이름/moviedata.json 의 구조를 생성한 후 python manage.py loaddata movies/moviedata.json 의 방식으로 하면 된다는 것을 다시 배웠다.

DB에 API에서 받아온 데이터를 받는건 매우 까다로운 일인 듯하다.

사이트 API별로 key값으로 사용되는 명칭이 다르다보니 하나의 사이트에서만 데이터를 받아와야 할 것 같다

원래는 우리 편의대로 movie 모델의 field를 생성하고 그에 맞춰 데이터를 받으려 했으나 이 방법이 원래 불가능한건지 우리가 능력 부족이라 못하는건지 모르겠다.

재호님 덕에 드디어 media 이미지 파일이 출력될 수 있게 되었다!

우리는 accounts의 url에 스태틱 파일을 위한 조치들을 해둔 상태였으나, 재호님이 그것을 전체 프로젝트의 urls.py로 옮겨 적으니 바로 문제없이 출력되었다!



#### 6/13
데이터 받아오기는 json 데이터를 사용하여 load 방식을 통해 movie 모델과 Genre 모델에 각각 적용시켰다.

포인트 제도를 드디어 활성화하여 유저들의 등급을 만드는데 성공하였다.

포인트 분배 시, 단순히 user.points += 1 만 해서는 적용이 안 되고, user.points.save()를 별도로 해야 적용됨을 배웠다

또한, if 문 내에서 숫자의 범위를 지정할 때 (% if 0 < a < 10 %)으로 해선 앞의 0 < a 만 필터링되고 < 10은 필터링되지 않았다. {% if 0 < a and a < 10 %}과 같이 하니 잘 적용되었다.

#### 6/14

API 데이터 받아오기가 아직 잘 이해가 안된다. 프로젝트 진행에는 문제가 없으니 일단은 진행해봐야겠다.

추천 알고리즘을 구현하기 위해 중개모델을 활용해보려 하였으나 사용법을 잘 몰라 실패하였다.



#### 6/15

중개모델 아닌 중개모델을 사용하여 유저의 영화취향을 파악하는데 성공하였다.

user와 genre 모델을 1:N 관계로 갖는 Love라는 모델을 유저 계정 생성 시 모든 장르에 대해 생성하도록 한 후, 유저가 리뷰를 작성할 때마다 수치를 증가시키는 쪽으로 설계하였고, 성공하였다.

기람이와 재호에게 정말 많은 문법들을 배우고 있다. 내가 애매하게 알았던 것들을 팀원들에게 다시 배우니 기억에도 잘 남고 너무 유익하다.

영화 버전의 Return of the King 추천 알고리즘을 구현하려 하고 있는데 가능할지 모르겠다.

#### 6/16
추천 방식의 다양화에 도전하였는데 이는 데이터를 받아오는 방식에 크게 영향을 받았다.

자료를 받거나 변경 후 save()를 종종 깜박하여 데이터의 변동이 서버에 저장되지 않는 경우가 발생하였다.

자꾸 중복이 발생하길래 save가 새로운 모델을 생성하는것인지 헷갈려서 잠깐 혼란을 겪었으나 우리의 오타에서 문제가 발생하였음을 발견해냈다.

기존에 단순히 유저가 리뷰를 남긴 것에 따라 추천하는 방식에서 발전하여, 이미 리뷰를 작성한 영화 즉, 이미 본 영화에 대해서는 추천목록에 추가되지 않도록 하는 알고리즘을 구현해보고자 한다.

자꾸 쿼리셋에는 user라는 속성이 없다고 에러가 뜨는데 아직 쿼리셋이 뭔지 잘 모르겠다. 좀 더 공부가 필요할 듯하다.

1:N 방식에서 역참조명을 생성해줌으로써 해결할 수 있었다.

#### 6/17
